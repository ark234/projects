<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Level 3</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../css/master.css">
	<link rel="stylesheet" href="../css/level3.css">

  </head>
  <body>
    <!-- Platforms -->
    <div class="platform-container">
      <div class="platform-win"></div>
      <div class="platform-start" onmouseover="move()"></div>
      <div class="platform" id="one"></div>
      <div class="platform" id="two"></div>
    </div>

    <!-- Nav Menu at the bottom of the screen -->
    <nav>
      <a href="level2.html"><button id="previous">Previous Level</button></a>
      <a href="../index.html"><button id="main">Main Menu</button></a>
    </nav>

    <!-- Win and Lose Modals -->
    <div class="modal" id="modal-win">
      <div class="modal-content">
        <h1>You Win!</h1>
        <nav>
          <a href="level4.html"><button id="next">Next Level</button></a>
          <a href="../index.html"><button id="main">Main Menu</button></a>
        </nav>
      </div>
    </div>
    <div class="modal" id="modal-lose">
      <div class="modal-content">
        <h1>You Lose!</h1>
        <nav>
          <a href="level3.html"><button id="retry">Retry</button></a>
          <a href="../index.html"><button id="main">Main Menu</button></a>
        </nav>
      </div>
    </div>

    <!-- This explosive video goes off when the losing modal is triggered -->
    <video id="explosion" src="../images/explosion.mp4" poster="../images/explosion.jpg" type="video/mp4" autoplay loop muted></video>

    <!-- This explosive video goes off when the losing modal is triggered -->
    <video id="fireworks" src="../images/fireworks.mp4" poster="../images/fireworks.jpg" type="video/mp4" autoplay loop muted></video>

    <script type="text/javascript" src="../js/hover.js"></script>

    <script>
    /************************************************************
                            JS ANIMATIONS
    ************************************************************/

    /* We want platform #one to slide down 600px and then return to its original position.
    pos acts as a counter for the overall duration of the animation, and is also inserted
    into the style.top attribute, dynamically allocating its position. */
		function move() {
			var platformOne = document.getElementById("one");
			var pos = 0;
			var interval = setInterval(frame, 10);

			function frame() {
				if(pos <= 600) {
					pos++;
					platformOne.style.top = `${pos}px`;
				}
				// $('.platform-win').mouseenter(clearInterval(interval));
			}
		}

    </script>
  </body>
</html>
